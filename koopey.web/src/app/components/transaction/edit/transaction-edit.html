<div>
  <h1 i18n>Transaction</h1>

  <form [formGroup]="formGroup">
    <mat-form-field>
      <mat-label i18n>Description</mat-label>
      <input formControlName="name" matInput type="text" placeholder="Description"
        [(ngModel)]="transaction.description" />
      @if(!formGroup.controls.name.valid) {
      <mat-hint align="end" i18n>Required</mat-hint>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label i18n>Reference</mat-label>
      <input formControlName="reference" matInput type="text" placeholder="Reference" />
      @if(!formGroup.controls.name.valid) {
      <mat-hint align="end" i18n>Required</mat-hint>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label i18n>Name</mat-label>
      <input matInput type="number" placeholder="Value" />
      @if(!formGroup.controls.name.valid) {
      <mat-hint align="end" i18n>Required</mat-hint>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label i18n>Quantity</mat-label>
      <input formControlName="quantity" matInput type="number" placeholder="Quanitity" />
      @if(!formGroup.controls.quantity.valid) {
      <mat-hint align="end" i18n>Required</mat-hint>
      }
    </mat-form-field>

    <mat-form-field>
      <mat-label i18n>Total</mat-label>
      <input formControlName="total" matInput type="number" placeholder="Total" />
      @if(!formGroup.controls.total.valid) {
      <mat-hint align="end" i18n>Required</mat-hint>
      }

    </mat-form-field>

    <currency-field formControlName="currency"> </currency-field>

    <span>
      <button (click)="review()" id="btnReview" mat-fab name="btnReview" svgIcon="grade" type="submit">
        <mat-icon>grade</mat-icon>
      </button>
    </span>

    <span class="app-action">
      <button (click)="save()" [disabled]="!formGroup.valid" id="btnEdit" mat-fab name="btnEdit" svgIcon="add"
        type="submit">
        <mat-icon>edit</mat-icon>
      </button>
    </span>
  </form>
  <table>
    <tr>
      <td>
        <h3 i18n>Buyer</h3>
        @if(transaction.buyerId != null) {
        <userbox [userId]="transaction.buyerId" [textVisible]="true"></userbox>
        }
      </td>
      <td>
        <h3 i18n>Seller</h3>
        @if(transaction.sellerId != null) {
        <userbox [userId]="transaction.sellerId" [textVisible]="true"></userbox>
        }
      </td>
    </tr>
  </table>
</div>